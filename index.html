<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FINDING AYA - RAVY Adventure</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body { margin:0; padding:0; font-family: 'Press Start 2P', cursive; background:#222; display:flex; justify-content:center; align-items:center; height:100vh; overflow:hidden;}
body::before{ content:""; position:absolute; inset:0; background-image: linear-gradient(rgba(255,255,255,0.05) 1px,transparent 1px), linear-gradient(90deg,rgba(255,255,255,0.05) 1px,transparent 1px); background-size:20px 20px; z-index:-1;}
.bmo-screen{ width:90vw; max-width:400px; height:70vh; max-height:500px; border-radius:20px; padding:20px; box-shadow:0 0 20px #0f4c3d; color:#fff; display:flex; flex-direction:column; background:url("https://raw.githubusercontent.com/hexshush2/Happy-New-Year-Ravyy/refs/heads/main/bmo-face.jpg") center/cover;}
.save-file{ background:rgba(0,0,0,.4); padding:12px; border-radius:10px; }
input{ width:100%; margin-top:6px; padding:6px; font-family:inherit; }
.enter-btn, .choice{ margin-top:10px; padding:10px; font-family:inherit; background:#ffd6a5; border:none; border-radius:10px; cursor:pointer; }
.progress-bar{ height:10px; background:#b2f7ef; margin-top:10px; border-radius:6px; overflow:hidden; }
.progress{ height:100%; width:0%; background:#ffaaa5; transition:width 2s; }
.welcome,.question,.buttons,.loading{ display:none; margin-top:15px; text-align:center; font-size:10px; }
.buttons{ display:none; justify-content:space-around; margin-top:auto; }

.maze-container{ display:none; flex-direction:column; align-items:center; justify-content:center; width:90vw; max-width:400px; position:relative; }
.title{ color:#fff; font-size:16px; margin-bottom:10px; text-align:center; }
.maze{ display:grid; gap:2px; width:90vw; max-width:350px; grid-template-columns: repeat(12,1fr); grid-template-rows: repeat(12,1fr); background:#2a9d8f; border-radius:20px; position:relative;}
.cell{ position:relative; border-radius:4px; width:100%; height:0; padding-bottom:100%; }
.wall{ background:#155e63; }
.char-her, .char-me{ position:absolute; top:0; left:0; width:100%; height:100%; background-size:cover; background-position:center; box-shadow:0 4px 4px rgba(0,0,0,.5); border-radius:6px; }

.controls{ position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); display:grid; grid-template-columns:repeat(3,50px); grid-template-rows:repeat(3,50px); gap:5px; z-index:5; }
.controls button{ width:50px; height:50px; border:none; border-radius:12px; cursor:pointer; font-size:16px; font-family:inherit; color:#fff; }
.up{ background:#3498db; grid-column:2; grid-row:1; }
.down{ background:#f1c40f; grid-column:2; grid-row:3; }
.left{ background:#e74c3c; grid-column:1; grid-row:2; }
.right{ background:#2ecc71; grid-column:3; grid-row:2; }

.effect-image{ position:fixed; top:0; left:0; width:100vw; height:100vh; object-fit:contain; opacity:0; transition: opacity 0.8s, transform 0.8s; z-index:20; pointer-events:none; transform: scale(0);}
</style>
</head>
<body>

<!-- Start Screen -->
<div class="bmo-screen" id="startScreen">
  <div class="save-file">
    SAVE FILE 01: FINDING AYA<br><br>
    PLAYER:
    <input id="playerName" placeholder="Enter your name">
    <button class="enter-btn" id="enterBtn">ENTER</button>
    <div class="progress-bar"><div class="progress" id="progress"></div></div>
  </div>
  <div class="welcome" id="welcome">I’VE LONG BEEN WAITING FOR YOU PO HIHI</div>
  <div class="question" id="question">START NOW PO?</div>
  <div class="buttons" id="buttons">
    <button class="choice" id="yesBtn">YES, BABY</button>
    <button class="choice" id="noBtn">NO!</button>
  </div>
  <div class="loading" id="loading">LOADING PO, BABY HIHI...</div>
</div>

<!-- Maze -->
<div class="maze-container" id="mazeContainer">
  <div class="title">FINDING AYA</div>
  <div class="maze" id="maze"></div>
  <div class="controls">
    <button class="up" onclick="move(0,-1)">⬆</button>
    <button class="left" onclick="move(-1,0)">⬅</button>
    <button class="right" onclick="move(1,0)">➡</button>
    <button class="down" onclick="move(0,1)">⬇</button>
  </div>
</div>

<!-- Fullscreen Effects -->
<img src="https://raw.githubusercontent.com/hexshush2/Happy-New-Year-Ravyy/refs/heads/main/assets/heart.PNG" class="effect-image" id="heartEffect">
<img src="https://raw.githubusercontent.com/hexshush2/Happy-New-Year-Ravyy/refs/heads/main/assets/fireworks.PNG" class="effect-image" id="fireworkEffect">
<img src="https://raw.githubusercontent.com/hexshush2/Happy-New-Year-Ravyy/refs/heads/main/assets/kiss.PNG" class="effect-image" id="kissEffect">

<audio id="bgMusic" loop><source src="love-like-you.mp3" type="audio/mpeg"></audio>

<script>
// Beep
function beep(v,f,d){ const c=new AudioContext(),o=c.createOscillator(),g=c.createGain(); o.connect(g); g.connect(c.destination); o.type='square'; o.frequency.value=f; g.gain.value=v; o.start(); o.stop(c.currentTime+d/1000); }

// Sounds
function playSound(url, volume=0.5){ const audio=new Audio(url); audio.volume=volume; audio.play(); }

const nameInput = document.getElementById("playerName");
const enterBtn = document.getElementById("enterBtn");
const welcome = document.getElementById("welcome");
const question = document.getElementById("question");
const buttons = document.getElementById("buttons");
const progress = document.getElementById("progress");
const loading = document.getElementById("loading");
const startScreen = document.getElementById("startScreen");
const mazeContainer = document.getElementById("mazeContainer");
const mazeDiv = document.getElementById("maze");
const bgMusic = document.getElementById("bgMusic");
const heartEffect = document.getElementById("heartEffect");
const fireworkEffect = document.getElementById("fireworkEffect");
const kissEffect = document.getElementById("kissEffect");

// Typing starts music
nameInput.addEventListener('keydown',()=>{ beep(.2,600,50); bgMusic.volume=0.3; bgMusic.play().catch(()=>{}); });

enterBtn.addEventListener('click',()=>{
  if(!nameInput.value.trim()) return;
  beep(.3,400,100);
  progress.style.width="100%";
  welcome.style.display="block";
  question.style.display="block";
  buttons.style.display="flex";
});

document.getElementById("noBtn").addEventListener('mouseenter',()=>{
  beep(.3,800,80);
  const btn=document.getElementById("noBtn");
  btn.style.position='absolute';
  btn.style.left=Math.random()*200+'px';
  btn.style.top=Math.random()*200+'px';
});

document.getElementById("yesBtn").addEventListener('click',()=>{
  beep(.3,500,100);
  loading.style.display="block";
  let dots=0;
  const loop=setInterval(()=>{dots=(dots+1)%4; loading.textContent="LOADING SAVE FILE"+'.'.repeat(dots);},400);
  setTimeout(()=>{
    clearInterval(loop);
    startScreen.style.display="none";
    mazeContainer.style.display="flex";
    drawMaze();
  },2000);
});

// Maze setup
const map=[
[1,1,1,1,1,1,1,1,1,1,1,1],
[1,0,0,0,1,0,0,0,1,0,0,1],
[1,0,1,0,1,0,1,0,1,0,1,1],
[1,0,1,0,0,0,1,0,0,0,0,1],
[1,0,1,1,1,0,1,1,1,0,1,1],
[1,0,0,0,0,0,0,0,1,0,0,1],
[1,0,1,1,1,0,1,1,1,0,1,1],
[1,0,0,0,0,0,0,0,0,0,0,1],
[1,0,1,0,1,1,1,0,1,0,1,1],
[1,0,0,0,1,0,0,0,1,0,0,1],
[1,0,1,0,0,0,1,0,0,0,0,1],
[1,1,1,1,1,1,1,1,1,1,1,1]
];

let her={x:1,y:1};
const me={x:10,y:10};

function drawMaze(){
  mazeDiv.innerHTML="";
  map.forEach((r,y)=>r.forEach((c,x)=>{
    const d=document.createElement('div');
    d.className='cell'+(c?' wall':'');
    if(her.x==x && her.y==y){
      const div=document.createElement('div');
      div.className='char-her';
      div.style.backgroundImage='url(https://raw.githubusercontent.com/hexshush2/Happy-New-Year-Ravyy/refs/heads/main/assets/her.PNG)';
      d.appendChild(div);
    }
    if(me.x==x && me.y==y){
      const div=document.createElement('div');
      div.className='char-me';
      div.style.backgroundImage='url(https://raw.githubusercontent.com/hexshush2/Happy-New-Year-Ravyy/refs/heads/main/assets/me.PNG)';
      d.appendChild(div);
    }
    mazeDiv.appendChild(d);
  }));
}

function move(dx,dy){
  beep(.25,650,60);
  const nx=her.x+dx, ny=her.y+dy;
  if(map[ny]?.[nx]===0){
    her.x=nx; her.y=ny;
    drawMaze();
    if(nx==me.x && ny==me.y){
      // Fullscreen effects sequence
      heartEffect.style.opacity=1; heartEffect.style.transform='scale(1)'; 
      playSound('https://raw.githubusercontent.com/hexshush2/Happy-New-Year-Ravyy/refs/heads/main/assets/heart-beat.mp3',0.5);
      setTimeout(()=>{
        heartEffect.style.opacity=0;
        fireworkEffect.style.opacity=1; fireworkEffect.style.transform='scale(1)';
        playSound('https://raw.githubusercontent.com/hexshush2/Happy-New-Year-Ravyy/refs/heads/main/assets/fireworks.mp3',0.5);
        setTimeout(()=>{
          fireworkEffect.style.opacity=0;
          kissEffect.style.opacity=1; kissEffect.style.transform='scale(1)';
          playSound('https://raw.githubusercontent.com/hexshush2/Happy-New-Year-Ravyy/refs/heads/main/assets/kiss.mp3',0.5);
          setTimeout(()=>{
            alert("YAYYY! HAPPY NEW YEAR, BABY HIHI");
            // Reset
            her={x:1,y:1};
            drawMaze();
            heartEffect.style.opacity=0;
            fireworkEffect.style.opacity=0;
            kissEffect.style.opacity=0;
            heartEffect.style.transform='scale(0)';
            fireworkEffect.style.transform='scale(0)';
            kissEffect.style.transform='scale(0)';
            mazeContainer.style.display='none';
            startScreen.style.display='flex';
          },1500);
        },1500);
      },1500);
    }
  }
}

document.onkeydown=e=>{
  if(e.key=="ArrowUp") move(0,-1);
  if(e.key=="ArrowDown") move(0,1);
  if(e.key=="ArrowLeft") move(-1,0);
  if(e.key=="ArrowRight") move(1,0);
};
</script>
</body>
</html>
