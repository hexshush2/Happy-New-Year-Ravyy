<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RAVY Adventure 3D</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body {
  margin:0;
  font-family:'Press Start 2P',cursive;
  background:#111;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  color:#fff;
}

/* Start Screen */
#startScreen{
  position:absolute;
  inset:0;
  background:#222;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}
#startScreen input{
  font-family:inherit;
  padding:8px;
  margin:10px;
  border-radius:6px;
  border:none;
}

/* Maze Container */
.maze-container{
  display:none;
  position:relative;
  width:600px;
  height:600px;
  perspective:1000px;
}

/* Maze Cells */
.maze-cell{
  position:absolute;
  width:40px;
  height:40px;
  transform-style:preserve-3d;
}
.maze-cell .cube{
  position:absolute;
  width:40px;
  height:40px;
  transform-style:preserve-3d;
}
.maze-cell .cube div{
  position:absolute;
  width:40px;
  height:40px;
  background:#0a9396;
  border:1px solid rgba(0,0,0,0.2);
}
.front{transform:translateZ(20px);}
.back{transform:rotateY(180deg) translateZ(20px);}
.left{transform:rotateY(-90deg) translateZ(20px);}
.right{transform:rotateY(90deg) translateZ(20px);}
.top{transform:rotateX(90deg) translateZ(20px);}
.bottom{transform:rotateX(-90deg) translateZ(20px);}

/* Voxel Character */
.player{
  position:absolute;
  width:36px;
  height:36px;
  transform-style:preserve-3d;
  transition:transform 0.3s;
}

/* Character cubes */
.scene{
  width:36px;
  height:36px;
  perspective:600px;
}
.character{
  width:100%;height:100%;
  position:relative;
  transform-style:preserve-3d;
  animation: rotate 5s linear infinite, bounce 0.6s alternate infinite;
}
@keyframes rotate{
  from{transform:rotateY(0deg)}
  to{transform:rotateY(360deg)}
}
@keyframes bounce{
  from{transform:translateY(0px)}
  to{transform:translateY(4px)}
}
.cube{
  position:absolute;
  width:18px;height:18px;
  transform-style:preserve-3d;
}
.cube div{
  position:absolute;
  width:18px;height:18px;
  border:1px solid rgba(255,255,255,0.1);
  background:inherit;
}

/* Side Controls */
#controls{
  display:flex;
  flex-direction:column;
  position:absolute;
  top:50%;
  left:650px;
  transform:translateY(-50%);
  gap:10px;
}
#controls button{
  width:50px;height:50px;
  border:none;border-radius:8px;
  font-size:18px;
  font-family:inherit;
  cursor:pointer;
  background:#ee9b00;
  color:#111;
  box-shadow:0 4px #ca6702;
}
</style>
</head>
<body>

<!-- Start Screen -->
<div id="startScreen">
  <div>SAVE FILE 01: FINDING AYA</div>
  <input id="playerName" placeholder="Enter your name">
  <button id="startBtn">START</button>
</div>

<!-- Maze -->
<div class="maze-container" id="mazeContainer"></div>

<!-- Controls -->
<div id="controls">
  <button onclick="move(0,-1)">⬆</button>
  <button onclick="move(-1,0)">⬅</button>
  <button onclick="move(1,0)">➡</button>
  <button onclick="move(0,1)">⬇</button>
</div>

<audio id="bgMusic" loop>
  <source src="love-like-you.mp3" type="audio/mpeg">
</audio>

<script>
// Maze map 12x12
const map=[
[0,1,0,0,0,1,0,0,1,0,0,0],
[0,1,0,1,0,1,0,1,1,0,1,0],
[0,0,0,1,0,0,0,0,1,0,0,0],
[1,1,0,1,1,1,1,0,1,0,1,0],
[0,0,0,0,0,0,1,0,0,0,1,0],
[0,1,1,1,1,0,1,1,1,0,1,0],
[0,0,0,0,1,0,0,0,0,0,0,0],
[1,1,0,0,1,0,1,1,0,1,1,1],
[0,0,0,0,0,0,0,0,1,0,0,0],
[0,1,1,1,0,1,1,0,1,1,1,0],
[0,0,0,1,0,0,0,1,0,0,0,0],
[0,0,0,0,1,1,0,0,0,0,1,0]
];

const mazeContainer=document.getElementById("mazeContainer");
const bgMusic=document.getElementById("bgMusic");

let her={x:0,y:0};
const me={x:11,y:11};

// Create maze
function drawMaze(){
  mazeContainer.innerHTML="";
  map.forEach((row,y)=>{
    row.forEach((cell,x)=>{
      if(cell===1){
        const cubeWrap=document.createElement("div");
        cubeWrap.className="maze-cell";
        cubeWrap.style.transform=`translate3d(${x*44}px, ${y*44}px,0)`;
        cubeWrap.innerHTML=`<div class="cube">
          <div class="front"></div><div class="back"></div><div class="left"></div>
          <div class="right"></div><div class="top"></div><div class="bottom"></div>
        </div>`;
        mazeContainer.appendChild(cubeWrap);
      }
    });
  });
  placePlayers();
}

// Voxel Character HTML
function createCharacter(id){
  return `<div class="scene" id="${id}"><div class="character">
  <div class="cube head"><div class="front"></div><div class="back"></div><div class="left"></div><div class="right"></div><div class="top"></div><div class="bottom"></div></div>
  <div class="cube body"><div class="front"></div><div class="back"></div><div class="left"></div><div class="right"></div><div class="top"></div><div class="bottom"></div></div>
  <div class="cube legL"><div class="front"></div><div class="back"></div><div class="left"></div><div class="right"></div><div class="top"></div><div class="bottom"></div></div>
  <div class="cube legR"><div class="front"></div><div class="back"></div><div class="left"></div><div class="right"></div><div class="top"></div><div class="bottom"></div></div>
  </div></div>`;
}

// Place characters
function placePlayers(){
  // HER
  const herWrap=document.createElement("div");
  herWrap.className="player";
  herWrap.id="herChar";
  herWrap.innerHTML=createCharacter("her");
  herWrap.style.transform=`translate3d(${her.x*44}px, ${her.y*44}px,0)`;
  mazeContainer.appendChild(herWrap);

  // ME
  const meWrap=document.createElement("div");
  meWrap.className="player";
  meWrap.id="meChar";
  meWrap.innerHTML=createCharacter("me");
  meWrap.style.transform=`translate3d(${me.x*44}px, ${me.y*44}px,0)`;
  mazeContainer.appendChild(meWrap);
}

// Movement
function move(dx,dy){
  const nx=her.x+dx;
  const ny=her.y+dy;
  if(map[ny]?.[nx]===0){
    her.x=nx;
    her.y=ny;
    document.getElementById("herChar").style.transform=`translate3d(${nx*44}px, ${ny*44}px,0)`;
  }
  if(her.x===me.x && her.y===me.y){
    document.getElementById("herChar").style.transform+=' scale(1.5)';
    document.getElementById("meChar").style.transform+=' scale(1.5)';
  }
}

// Keyboard controls
document.onkeydown=e=>{
  if(e.key==="ArrowUp") move(0,-1);
  if(e.key==="ArrowDown") move(0,1);
  if(e.key==="ArrowLeft") move(-1,0);
  if(e.key==="ArrowRight") move(1,0);
};

// Start button
document.getElementById("startBtn").addEventListener("click",()=>{
  const name=document.getElementById("playerName").value;
  if(!name.trim()) return;
  document.getElementById("startScreen").style.display="none";
  mazeContainer.style.display="block";
  drawMaze();
  bgMusic.volume=0.4;
  bgMusic.play().catch(()=>{});
});
</script>

</body>
</html>
