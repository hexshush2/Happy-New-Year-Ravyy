<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RAVY Adventure 3D</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Press Start 2P',cursive;
  background:#0b0f1a;
  color:#fff;
  overflow:hidden;
}

/* ---------- START SCREEN ---------- */
#startScreen{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top,#1b263b,#000);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:10;
}
#startScreen input{
  font-family:inherit;
  padding:10px;
  margin:12px;
  border-radius:8px;
  border:none;
}
#startScreen button{
  font-family:inherit;
  padding:10px 18px;
  background:#ee9b00;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

/* ---------- MAZE ---------- */
.maze-container{
  display:none;
  position:absolute;
  inset:0;
  margin:auto;
  width:600px;
  height:600px;
  perspective:1000px;
}
.maze-cell{
  position:absolute;
  width:40px;height:40px;
  transform-style:preserve-3d;
}
.cube{
  position:absolute;
  width:40px;height:40px;
  transform-style:preserve-3d;
}
.cube div{
  position:absolute;
  width:40px;height:40px;
  background:#0a9396;
  opacity:.95;
}
.front{transform:translateZ(20px)}
.back{transform:rotateY(180deg) translateZ(20px)}
.left{transform:rotateY(-90deg) translateZ(20px)}
.right{transform:rotateY(90deg) translateZ(20px)}
.top{transform:rotateX(90deg) translateZ(20px)}
.bottom{transform:rotateX(-90deg) translateZ(20px)}

/* ---------- CHARACTERS ---------- */
.player{
  position:absolute;
  width:36px;height:36px;
  transform-style:preserve-3d;
  transition:transform .3s;
}
.scene{width:36px;height:36px;perspective:600px}
.character{
  position:relative;
  width:100%;height:100%;
  transform-style:preserve-3d;
  animation:spin 6s linear infinite, bounce .6s alternate infinite;
}
@keyframes spin{from{transform:rotateY(0)}to{transform:rotateY(360deg)}}
@keyframes bounce{from{transform:translateY(0)}to{transform:translateY(4px)}}

.part{
  position:absolute;
  width:18px;height:18px;
  transform-style:preserve-3d;
}
.part div{
  position:absolute;
  width:18px;height:18px;
  background:inherit;
  border:1px solid rgba(255,255,255,.15);
}

/* Faces */
.face{
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:10px;
}

/* ---------- CONTROLS ---------- */
#controls{
  position:fixed;
  right:20px;
  top:50%;
  transform:translateY(-50%);
  display:flex;
  flex-direction:column;
  gap:10px;
}
#controls button{
  width:54px;height:54px;
  font-family:inherit;
  background:#ee9b00;
  border:none;
  border-radius:10px;
  cursor:pointer;
}

/* ---------- FIREWORKS ---------- */
.firework{
  position:fixed;
  width:6px;height:6px;
  border-radius:50%;
  background:#fff;
  animation:explode 1s forwards;
}
@keyframes explode{
  to{
    transform:translate(var(--x),var(--y)) scale(0);
    opacity:0;
  }
}
</style>
</head>

<body>

<!-- START -->
<div id="startScreen">
  <div>SAVE FILE 01</div>
  <div>FINDING AYA</div>
  <input id="playerName" placeholder="Enter your name">
  <button id="startBtn">START</button>
</div>

<!-- MAZE -->
<div class="maze-container" id="mazeContainer"></div>

<!-- CONTROLS -->
<div id="controls">
  <button onclick="move(0,-1)">â¬†</button>
  <button onclick="move(-1,0)">â¬…</button>
  <button onclick="move(1,0)">âž¡</button>
  <button onclick="move(0,1)">â¬‡</button>
</div>

<!-- AUDIO -->
<audio id="bgMusic" loop>
  <source src="love-like-you.mp3" type="audio/mpeg">
</audio>
<audio id="beep">
  <source src="data:audio/wav;base64,UklGRlQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAA" type="audio/wav">
</audio>

<script>
/* ---------- MAP ---------- */
const map=[
[0,1,0,0,0,1,0,0,1,0,0,0],
[0,1,0,1,0,1,0,1,1,0,1,0],
[0,0,0,1,0,0,0,0,1,0,0,0],
[1,1,0,1,1,1,1,0,1,0,1,0],
[0,0,0,0,0,0,1,0,0,0,1,0],
[0,1,1,1,1,0,1,1,1,0,1,0],
[0,0,0,0,1,0,0,0,0,0,0,0],
[1,1,0,0,1,0,1,1,0,1,1,1],
[0,0,0,0,0,0,0,0,1,0,0,0],
[0,1,1,1,0,1,1,0,1,1,1,0],
[0,0,0,1,0,0,0,1,0,0,0,0],
[0,0,0,0,1,1,0,0,0,0,1,0]
];

const maze=document.getElementById("mazeContainer");
const bg=document.getElementById("bgMusic");
const beep=document.getElementById("beep");

let her={x:0,y:0};     // PLAYER
const me={x:11,y:11}; // STATIC GOAL

/* ---------- MAZE ---------- */
function drawMaze(){
  maze.innerHTML="";
  map.forEach((r,y)=>r.forEach((c,x)=>{
    if(c){
      const w=document.createElement("div");
      w.className="maze-cell";
      w.style.transform=`translate3d(${x*44}px,${y*44}px,0)`;
      w.innerHTML=`<div class="cube">
        <div class="front"></div><div class="back"></div>
        <div class="left"></div><div class="right"></div>
        <div class="top"></div><div class="bottom"></div>
      </div>`;
      maze.appendChild(w);
    }
  }));
  placeCharacters();
}

/* ---------- CHARACTER ---------- */
function characterHTML(face,shirt){
return `
<div class="scene">
<div class="character">
  <div class="part" style="top:0;left:9px;background:#f1c27d">
    <div class="front face">${face}</div>
    <div class="back"></div><div class="left"></div><div class="right"></div>
    <div class="top"></div><div class="bottom"></div>
  </div>
  <div class="part" style="top:18px;left:9px;background:${shirt}">
    <div class="front"></div><div class="back"></div>
    <div class="left"></div><div class="right"></div>
    <div class="top"></div><div class="bottom"></div>
  </div>
</div>
</div>`;
}

function placeCharacters(){
  const h=document.createElement("div");
  h.className="player";h.id="herChar";
  h.innerHTML=characterHTML("ðŸ˜Š","#6a4c93");
  h.style.transform=`translate3d(${her.x*44}px,${her.y*44}px,0)`;
  maze.appendChild(h);

  const m=document.createElement("div");
  m.className="player";m.id="meChar";
  m.innerHTML=characterHTML("ðŸ’–","#ee9b00");
  m.style.transform=`translate3d(${me.x*44}px,${me.y*44}px,0)`;
  maze.appendChild(m);
}

/* ---------- MOVE ---------- */
function move(dx,dy){
  const nx=her.x+dx, ny=her.y+dy;
  if(map[ny]?.[nx]===0){
    her.x=nx;her.y=ny;
    document.getElementById("herChar").style.transform=
      `translate3d(${nx*44}px,${ny*44}px,0)`;
    beep.play().catch(()=>{});
  }
  if(nx===me.x && ny===me.y){
    celebrate();
  }
}

/* ---------- FIREWORKS ---------- */
function celebrate(){
  bg.volume=.6;
  for(let i=0;i<40;i++){
    const f=document.createElement("div");
    f.className="firework";
    f.style.left="50%";f.style.top="50%";
    f.style.background=`hsl(${Math.random()*360},100%,60%)`;
    f.style.setProperty("--x",(Math.random()*400-200)+"px");
    f.style.setProperty("--y",(Math.random()*400-200)+"px");
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }
  document.getElementById("herChar").style.transform+=" scale(1.5)";
  document.getElementById("meChar").style.transform+=" scale(1.5)";
}

/* ---------- INPUT ---------- */
document.onkeydown=e=>{
  if(e.key==="ArrowUp")move(0,-1);
  if(e.key==="ArrowDown")move(0,1);
  if(e.key==="ArrowLeft")move(-1,0);
  if(e.key==="ArrowRight")move(1,0);
};

document.getElementById("startBtn").onclick=()=>{
  if(!playerName.value.trim())return;
  startScreen.style.display="none";
  maze.style.display="block";
  drawMaze();
  bg.volume=.4;
  bg.play().catch(()=>{});
};
</script>

</body>
</html>
